@model UniSAEmloyeeEmployerCertificationAndEngagement.Models.UserMicroCredentialBadgesViewModel[]

<div>
    <h4>User MicroCredentialBadges ViewModel</h4>
    <div><em>User MicroCredential Badges Attained</em></div>

    <hr />
    <dl class="dl-horizontal">
        @foreach (var badge in Model)
        {
            <dt>
                @Html.DisplayName("Username")
            </dt>
            <dd>
                @badge.Username
            </dd>
            <dt>
                @Html.DisplayName("MicroCredentialName")
            </dt>
            <dd>
                @((ViewBag.MicroCredentialIdList as List<SelectListItem>).FirstOrDefault(v => v.Value == badge.MicroCredentialId.ToString()) != null ? (ViewBag.MicroCredentialIdList as List<SelectListItem>).FirstOrDefault(v => v.Value == badge.MicroCredentialId.ToString()).Text:"Badge May Belong to another MoocProvider")
            </dd>
            <dt>
                @Html.DisplayName("Badge Id")
            </dt>

            <dd>
                @badge.MicroCredentialBadgeId
            </dd>

            <dt>
                @Html.DisplayName("Badge Name")
            </dt>

            <dd>
                @{
                    var certUrl = (ViewBag.CertificateImageUrl as string[]).FirstOrDefault(q => q.Contains(badge.MicroCredentialBadges) && q.Contains(badge.Username));

                    <h6>Click Certificate Thumbnail, To Download Certificate</h6>
                    <a href="@certUrl"><img src="@certUrl" alt="Certificate for @badge.MicroCredentialBadges" style="width:20%; height:auto;" /></a>

                }
            </dd>
            <hr />
        }
    </dl>
</div>
<p>
    @Html.ActionLink("Back to List", "Index")
</p>
